<template name="overviewPanel">
    <div class="panel panel-info">
        <div class="panel-heading">
            <h2 class="panel-title">
                {{#if isCurrentUsers}}
                    <a href="#" class="text-danger" data-toggle="modal" data-target="#editQueryNameModal">
                        {{{queryName}}} - Overview
                    </a>
                {{else}}
                    {{{queryName}}} - Overview
                {{/if}}
                {{#if isLoggedIn}}
                    {{#if isQueryStarred}}
                        <i class="fa fa-star pull-right" id="unstarQuery"></i>
                    {{else}}
                        <i class="fa fa-star-o pull-right" id="starQuery"></i>
                    {{/if}}
                {{/if}}
            </h2>
        </div>
        <div class="panel-body">
            <row>
                <div class="col-md-6">
                    <row>
                        <div class="col-xs-4">
                            <strong>Regions</strong>
                            {{#if isCurrentUsers}}
                                &nbsp;(<a href="#" id="editRegionsBtn" class="text-danger">Edit</a>)
                            {{/if}}
                        </div>
                        <div class="col-xs-8">
                            {{regions}}
                        </div>
                    </row>
                    <br>
                    <row>
                        <strong class="col-xs-4">Junctions</strong>
                        <div class="col-xs-8">
                            {{numJunctions}}
                        </div>
                    </row>
                    <br>
                    <row>
                        <strong class="col-xs-4">Query&nbsp;Date</strong>
                        <div class="col-xs-8">
                            {{queryDate}}
                        </div>
                    </row>
                    <br>
                    <row>
                        {{#if isCurrentUsers}}
                        {{else}}
                            {{#if isLoggedIn}}
                                <i class="btn btn-link" id="copyQueryBtn">Copy query to your account</i>
                            {{else}}
                                <br>
                                <i>Sign in to edit queries</i>
                            {{/if}}
                        {{/if}}
                    </row>
                </div>
                <row>
                    <div class="col-md-6">
                        <div class="col-xs-12">
                            <strong><i class="fa fa-filter"></i> Filters</strong>
                            {{#if isCurrentUsers}}
                                &nbsp;(<a href="#" id="editFiltersBtn" class="text-danger">Edit</a>)
                            {{/if}}
                        </div>
                        <br>
                        <div class="col-xs-9">
                            {{{filterSummary}}}
                        </div>
                    </div>
                </row>
            </row>
        </div>
    </div>

    <div class="modal" id="editQueryNameModal" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Set Query Name</h4>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="form-group input-group">
                            <input type="text" class="form-control" id="editQueryNameInput">
                            <span class="input-group-btn">
                                <button class="btn btn-default pull-right" id="editQueryNameBtn" type="button">
                                    Change
                                </button>
                            </span>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</template>